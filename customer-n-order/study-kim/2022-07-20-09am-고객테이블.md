<div style="text-align: right"> 2022.07.20. 09:30 AM </div>

# 고객

## 고객 (TB_CU_CUST)
1. 회원가입 필수 정보
    - 고객명, 로그인ID
2. 본인인증 절차 후 반환 데이터
    - 생년월일
    - 성별
    - 휴대전화
3. 로그인 시 확인 정보
    - 로그인ID, 비밀번호, 비밀번호만기일자, 탈퇴일시
4. 로그인 시 update 정보
    - 최종로그인일시, 계정휴면사전예고일자
    - batch 관련
    - Q. 계정휴면사전예고일자는 법정인지
5. 이메일은 마케팅에서 활용되기도 함
    - Q. 법적 문제
6. **고객등급**
    - 일반/VIP 등
    - 직원도 포함 가능
    - **블랙리스트 관리 기능 포함**
        - 고객등급변경사유코드나 변경사유를 따로 입력받아서 사용할 예정
        - 현재 고객관리적용사유로 고객관리코드와 같이 관리되고 있으나 고객관리코드는 고객구분코드로 대체되거나 고객구분의 역할을 할 것임, 따라서 고객관리적용사유는 고객등급적용사유나 고객등급변경사유로 컬럼명 바꾼 뒤 사용 필요
7. 고객유입경로
    - 보통 회원가입 시 체크
    - Q. 앱 다운로드 후 첫 가입 쿠폰/적립금 부여
8. 개인정보제공동의여부
    - Q. N으로 바뀔 일도 있는지
9. 휴면처리
    - 1년 로그인 안 함 - 휴면 고객 전환 - 본인인증 (다시 필요함)
    - 일정 기간 이상 휴면 상태 지속 시 물리적으로 동일하게 생긴 DB에 데이터 이관
        - 운영 DB에는 고객ID만 남겨두고 일반적으로는 나머지 속성값들 NULL 처리, 계정이관일시 update (계정폐기일자는 미리 존재하는지 모르겠음) **추후 소스 확인 필요**
        - Q. 이관된 정보의 보관 기간 어느 정도인지 - 예) 10년 넘게 운영안되던 싸이월드의 고객 정보
        - Q. 이관 된 고객들이 폐기 고객인지

* 비회원
    - 쿠폰/적립금 안됨
    - 쿠폰의 경우 고객쿠폰조회하기 때문에 조회 안됨
    - 적립금은 막아야 함

* 통신중개업자는 법적으로 고객의 카드번호를 가지고 있으면 안됨
* 통신중개업자는 개인이 특정되거나 식별이 가능한 정보로 판단되면 그 정보를 암호화할 의무가 있음
    - 정보 목록의 경우 Masking을 해야 하고 단건만은 표시 가능

* 법인회원
    - 세금명세서를 받는 회원
    - 요즘은 카드 전표가 세금계산서를 대체 가능하나 법인카드 결제 시만 가능
    - 사업자등록증 제출이 요구되며 필요 서류 확인 절차 후 등록되기 때문에 법인회원은 회원가입 시 승인 단계를 거침

10. **고객관리코드**
    - **고객등급코드와 분리**
    - '고객구분코드'로 변경될 수도 있음
    - 코드값: (개인/법인)
    - SBDC에서 블랙리스트 관리를 위해 추가됨(고객등급코드에서도 관리할 수 있으나 고객요청사항으로 분리)

11. 제휴사ID, 제휴사로그인ID
    - 제휴사에서 주문됐을 때 고객 데이터 생성하면서 삽입
        - 티몬 주문 -> 티몬 고객임
    - 제휴사 주문은 비회원주문이므로 비회원주문ID도 같이 들어감

13. 결제수단 저장여부
    - 주문할 때만 받음
    - 한 번 받고 그 다음 주문부터는 안 물어봄
    - Q. 다른 사이트는 한 번 체크되면 계속 체크되어있고 체크를 해제할 수는 있게 해놓음

* Q. 고객유형코드 (일반/임직원/사업자/당사비회원/제휴사비회원)
    - 고객등급코드, 고객관리코드, 고객유형코드 기준

* Q. 비회원여부는 탈퇴와는 상관없는지
    - ~~A. 상관없음~~
    - Q. 탈퇴여부가 없음

* Q. 비회원 고객의 주문 데이터 이관
* Q. **휴면/탈퇴/이관/폐기** 기준

## 고객 배송지(TB_CU_CUST_DLV_ADDR)
1. 주소구분코드 (도로명/지번/미지정)
2. 처음 등록되는 배송지는 기본배송지여부 Y
    - 그 이후는 기본 배송지 선택될 수 있고 선택되지 않은 배송지는 기본배송지여부 N
3. 배송메시지는 주문배송지테이블에는 있으나 고객배송지테이블에는 없음 (코드로 안 되어있고 직접 입력)
4. 시도명, 시군구명, 시군구번호는 우편번호 찾기 반환 값 자동세팅
5. 고객배송지 수정 기능
    - 우리는 제공 (주문배송지가 있기 때문에)
    - 지역 분석은 고객 배송지가 아니라 주문 배송지로 하게 됨

## 고객수신동의
1. 법정 항목
    - Q. 회원가입 때만 받는 것인지
    - Q. 요즘 앱에서 받는 push 알림 수신동의는 어느 항목에 속하는지