<div style="text-align: right"> 2022.07.15 14:35 </div>

# DAY 2

## <상품조회>
1. 협력사는 onBlur 든 onKeyUp이든 팝업호출이든 협력사상태코드가 거래중인 협력사만 검색되게 해야 함
2. 상품승인상태는 기본적으로 등록-승인요청-승인반려-승인완료 로 구성됨
    - 직급에 따라 중간 단계 추가 가능, 예) MD승인요청, MD팀장승인요청
3. 상품구분은 코드로 관리하며 일반/세트/초이스/사은품/특수상품 으로 구성됨
    - 개발 상 일반/사은품만 사용 예정
    - 각 코드값에 대한 설명은 상품등록에서 상품형태코드와 설명 예정
4. 과세구분은 과세코드(TAXT_CD) 로 과세, 면세로 있음
    - 예전에 영세도 있었음
    - 코드값 설명은 상품등록에서 부가세와 특소세와 함께 설명 예정
5. 상품판매상태는 코드로 관리하며 판매대기/판매중/일시품절/판매중지 로 구성됨
    - 각 코드값에 대한 설명은 상품등록에서 설명 예정
6. 상품분류는 상품분류등록에서 말했듯 4단계로 진행됨
    - 상품조회는 입력하는 곳이 없으므로 1단계부터 4단계까지 모두 검색 가능
7. 상품목록 그리드의 대표단품단위판매가는 말 그대로 대표단품여부가 Y인 단품의 단위판매가

## <상품등록>
3. 상품분류 정보고시 추가 설명 있음

### 1) 기본정보 탭 - 상품기본정보
1. 상품명은 고객사 요청에 따라 특수문자, 띄어쓰기 제한 걸 수도 있고 지금은 바이트 제한만 걸어 놓음
2. 상품구분코드
    1. 일반: 공산품
    2. 세트: 일반상품 + 일반상품 세트
    3. 초이스: 일반상품 + 일반상품 골라담기
    4. 사은품: 증정 상품
    5. 특수상품: 무형상품, 주문제작상품
3. 상품형태코드 -  상품구분코드와 연관
    1. 일반: 일반/세트/초이스 일 때 선택 가능
    2. 주문제작: 특수상품일 때 선택 가능
    3. 사은품: 사은품일 때 선택 가능
    4. 보험: 특수상품일 때 선택가능
    5. 여행: 특수상품일 때 선택가능
4. 상품등록에서도 협력사는 거래중인 협력사만 입력 가능
5. MD와  MD사용자 정보는 서로 상응해야 함
    - 입력한 MD사용자가 포함되지 않은 MD를 입력하면 안됨
    - 현재는 저장할 때 서버에서 검증 중이고 프론트에서도 MD사용자 입력시 MD 자동 입력하도록 되어있음
6. 상품기본정보폼에서 상품구분, 상품형태, 상품승인상태, 브랜드, 협력사, 제조사, MD, MD사용자, 원산지, 상품판매시작일시, 상품판매종료일시는 승인요청 이후 단계부터는 disabled
    - MD, MD사용자는 상품일괄수정에서 변경 가능
7. 상품판매상태
    1. 최초승인 이전에는 판매대기 상태이고 dropdown은 disabled
    2. 최초승인 시 판매중으로 update 됨
    3. 최초승인 이후부터 dropdown enabled
    4. 상품판매상태 상태 변경 설명 (이 과정은 승인완료 상품일 때를 전제로 함)
        1. 판매중일 때는 일시품절 혹은 판매중지로 변경 가능
        2. 일시품절일 때는 판매중 혹은 판매중지로 변경 가능
        3. 판매중지일 때는 모든 폼 disabled로 변경 불가
            - 변경 원할 시 상품일괄수정
        - 지난 프로젝트에서는 일시중단 버튼으로 바로 판매중지시킬 수 있는 기능이 있었고 현재는 기능 개발은 되어있으나 숨김(주석) 처리
8. 상품판매시작일시, 상품판매종료일 시는 승인요청 단계 이전일 경우 수정 가능, 그 이후는 disabled
9. 검색단어는 현재 자유롭게 받게 되어있음
    - 필요시 ,(콤마) 구분, #(해시태그) 구분 추가 가능

### 2) 기본정보 탭 - 상품분류정보
1. 상품분류는 4단계까지 필수입력
2. 적용버튼은 상품정보고시 update를 위함
    - 상품분류가 변경됨에 따라 상품분류정보고시를 기준으로 하여 불러오는 필수입력 정보고시 정보가 달라지므로 적용버튼을 클릭하여 반영
    - 임시저장 버튼 클릭해도 상품기본정보 update 서비스에서 상품정보고시도 update됨
    - 필수여부 update  Y <-> N, 신규는 내용입력 때문에 insert 안 함
3. 법적허가관리분류는 '해당없음'이 아닐 경우 아래 광고심의필증목록 파일도 반드시 같이 저장해야 함
    - 적용버튼 누를 때 광고심의필증목록도 같이 저장됨
### 3) 기본정보 탭 - 광고심의필증목록
1. 파일다운로드 요구사항 추가 가능
    - selectionChange가 있기 때문에 파일 한 개 내려받기 혹은 zip파일로 내려받기 예상
2. 체크한 값이 있어야 삭제 버튼 클릭 가능
### 4) 기본정보 탭 - 라이센스파일목록
1. Link : [쿠팡 디즈니 우산][coupangdisneyumbrellalink]
2. 파일다운로드 요구사항 추가 가능
    - selectionChange가 있기 때문에 파일 한 개 내려받기 혹은 zip파일로 내려받기 예상
3. 라이센스파일이 아닌 다른 상품관련 파일 등록을 위한 그리드도 될 수 있음 유의
4. 체크한 값이 있어야 삭제 버튼 클릭 가능

### 5) 상품이미지 정보
1. 대표이미지
    - 무조건 1개
    - 대표이미지여부 Y
2. 목록이미지
    - 최소 1개, 최대 10개
    - 대표이미지여부 N
    - 목록이미지의 경우 정렬순번 유의(이미지 넣는 순서임)
    - 이미지 넣는 순서임
3. 승인완료 이후 단계에서는 삭제와 동시에 이미지 삽입까지 요구하게 개발되어있음
    - 저장할 때는 무조건 이미지 있도록

### 6) 단품설정
1. 상품구분코드, 상품형태코드가 사은품일 경우 옵션속성1, 2, 3 모두 '없음'으로 자동 세팅
    - 사은품도 단품 1개는 무조건 필요 (이벤트 경품 등록할 때 단품조회 팝업 사용함)
2. 상품구분코드가 세트나 초이스일 경우 옵션속성1, 2, 3 모두 '없음'으로 자동 세팅
    - 현재 일반과 사은품만 사용하므로 개발되어 있지 않음
3. 단품이 이미 생성되어 있는 경우 변경 불가능
    - 단품이 모두 삭제되어있는 경우에만 가능한데 단품 삭제는 승인요청 이전 단계에서만 가능
    - 승인과정 중에는 단품이 무조건 1개 이상 존재해야 승인이 가능하므로 승인완료 이후에는 결국 변경 불가능
4. 속성1 '없음'일 시 속성2, 3 '없음'
5. 속성2 '없음'일 시 속성3 '없음'

### 7) 단품목록
1. 상품명 입력, 옵션속성1, 2, 3에 모두 값이 제대로 들어가야 추가 버튼 클릭 가능
1. 추가 버튼 클릭 후 단품조합팝업에서 추가된 단품을 목록에 보여줌 (아직 db에는 저장되지 않은 상태)
2. 단품목록에서 대표단품여부가 Y인 데이터가 무조건 1개 있어야 함
3. 단품판매상태코드
    - 승인요청 단계 이전에서는 단품의 판매상태를 바꿀 수 없음. 판매대기 상태에서 disabled임
    - 승인완료 이후 판매중부터 판매중지까지 변경 가능
    - 승인완료 이후 상품판매상태와 같은 방식으로 동작~~할 수 있으나 판매중지 시 판매상태 dropdownlist disabled 로직은 일단 주석처리 해놨음~~
4. 승인완료 이후 단품 추가/삭제 불가능
5. 체크한 값이 있어야 삭제 버튼 클릭 가능
6. 재고수량은 상품일괄수정에서도 변경 가능

[coupangdisneyumbrellalink]: https://www.coupang.com/vp/products/293199220?itemId=925898542&vendorItemId=5301388562&pickType=COU_PICK&q=%EB%94%94%EC%A6%88%EB%8B%88&itemsCount=36&searchId=78acefc2fcf444e2a7ce6c52b0f909ff&rank=1&isAddedCart=